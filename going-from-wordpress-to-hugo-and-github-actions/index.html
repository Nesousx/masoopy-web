<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Going from WordPress to Hugo and GitHub Actions! - Masoopy</title><meta name=Description content><meta property="og:title" content="Going from WordPress to Hugo and GitHub Actions!"><meta property="og:description" content="I finally did it! After years thinking about it, I finally migrated my Wordpress website to a static website! It was painful, but I am really happy I did it.
Why change? I got fed up with Wordpress being full of &ldquo;stuff&rdquo;, loading a webpage took ages (well, seconds&mldr;, but still too much) while my content is mostly text and a few small images.
Moreover, I wanted to be able to write my posts using Markdown."><meta property="og:type" content="article"><meta property="og:url" content="https://www.masoopy.com/going-from-wordpress-to-hugo-and-github-actions/"><meta property="article:published_time" content="2021-02-15T15:48:01+01:00"><meta property="article:modified_time" content="2021-02-15T15:48:01+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Going from WordPress to Hugo and GitHub Actions!"><meta name=twitter:description content="I finally did it! After years thinking about it, I finally migrated my Wordpress website to a static website! It was painful, but I am really happy I did it.
Why change? I got fed up with Wordpress being full of &ldquo;stuff&rdquo;, loading a webpage took ages (well, seconds&mldr;, but still too much) while my content is mostly text and a few small images.
Moreover, I wanted to be able to write my posts using Markdown."><meta name=application-name content="Masoopy"><meta name=apple-mobile-web-app-title content="Masoopy"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.masoopy.com/going-from-wordpress-to-hugo-and-github-actions/><link rel=prev href=https://www.masoopy.com/htb-netmon-without-metasploit/><link rel=next href=https://www.masoopy.com/htb-devel-without-metasploit/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Going from WordPress to Hugo and GitHub Actions!","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.masoopy.com\/going-from-wordpress-to-hugo-and-github-actions\/"},"genre":"posts","keywords":"hugo","wordcount":1146,"url":"https:\/\/www.masoopy.com\/going-from-wordpress-to-hugo-and-github-actions\/","datePublished":"2021-02-15T15:48:01+01:00","dateModified":"2021-02-15T15:48:01+01:00","license":"2022 Masoopy.com","publisher":{"@type":"Organization","name":"Denis"},"author":{"@type":"Person","name":"Denis"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':(''==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:''==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Masoopy>Masoopy</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/cheatsheets/>Cheatsheets </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Masoopy>Masoopy</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/cheatsheets/>Cheatsheets</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a class=menu-item href=/about/>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Going from WordPress to Hugo and GitHub Actions!</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Denis</a></span>&nbsp;<span class=post-category>included in <a href=/categories/web/><i class="far fa-folder fa-fw"></i>web</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-02-15>2021-02-15</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1146 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;6 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/hugo_gtmetrix.png data-srcset="/images/2021/02/hugo_gtmetrix.png, /images/2021/02/hugo_gtmetrix.png 1.5x, /images/2021/02/hugo_gtmetrix.png 2x" data-sizes=auto alt=/images/2021/02/hugo_gtmetrix.png title=/images/2021/02/hugo_gtmetrix.png></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#why-change>Why change?</a></li><li><a href=#what-for>What for?</a></li><li><a href=#converting-wordpress-to-markdown>Converting Wordpress to markdown</a><ul><li><a href=#exporting-wordpress-data>Exporting Wordpress Data</a></li><li><a href=#converting-to-wordpress>Converting to Wordpress</a></li><li><a href=#manual-fixing>Manual fixing</a></li></ul></li><li><a href=#host-and-forget>Host and forget!</a><ul><li><a href=#create-github-actions-script>Create GitHub Actions script</a></li><li><a href=#create-github-token>Create Github Token</a></li><li><a href=#add-token-to-your-websites-repo>Add token to your website&rsquo;s repo</a></li><li><a href=#its-always-dns>It&rsquo;s always DNS!</a></li></ul></li><li><a href=#now-what>Now what?</a></li></ul></nav></div></div><div class=content id=content><p>I finally did it! After years thinking about it, I finally migrated my Wordpress website to a static website! It was painful, but I am really happy I did it.</p><h2 id=why-change>Why change?</h2><p>I got fed up with Wordpress being full of &ldquo;stuff&rdquo;, loading a webpage took ages (well, seconds&mldr;, but still too much) while my content is mostly text and a few small images.</p><p>Moreover, I wanted to be able to write my posts using Markdown.</p><p>Also, Wordpress and all its plugin have a lot of vuln, and it is a constant game of cat and mouse to stay up to date.</p><p>Last but not least, I hadn&rsquo;t blogged for years and when I decided to blog again, I discovered the Gutenberg Experience : this was the last straw to my Wordpress' adventure!</p><h2 id=what-for>What for?</h2><p>I could have used <a href=https://ghost.org/ target=_blank rel="noopener noreffer">Ghost</a>, which I did at some point. I went from Wordpress to Ghost, to Wordpress again&mldr; but I really didn&rsquo;t want to host it myself. It is based on <code>node.js</code>, a technology I prefer to avoid like Java, Flash, or even Windows&mldr;</p><p>Then, I remembered using <a href=https://jekyllrb.com/ target=_blank rel="noopener noreffer">Jekyll</a> a while ago, I also know that Github now allows users to host their content with Jekyll. I am not a big fan of Ruby either (call me tech hater, or something). Too many dependencies, and gems, and stuff to install.</p><p>Anyways, I was going for it, and I converted all my post to Markdown (back to that a bit later). After playing with it locally, I wasn&rsquo;t really happy with it&mldr; too many stuff to install on my host system, plus I felt that I was limited to only a handful of themes if I wanted use Github (which was my plan all along).</p><p>So I looked for a Jekyll like, but in Python. A language I have been trying to learn for years. It would be great to blog again and learn Python at the same time. I found <a href=http://hyde.github.io/index.html target=_blank rel="noopener noreffer">Hyde</a>. However, looking at it, it seemed that the project was not very live / current and bit too &ldquo;niche&rdquo;. I suspected I would face a lot of issues with my low level of Python. In the end, it would be counterproductive. I am trying to <a href=https://www.masoopy.com/starting-my-hacking-journey-hopefully/ target=_blank rel="noopener noreffer">learn hacking</a> and blog again. If I also need to learn Python in depth, I&rsquo;ll probably never succeed. I was back at the beginning!</p><p>And I found <a href=https://gohugo.io/ target=_blank rel="noopener noreffer">Hugo</a>! Hugo, on the paper, it exactly what I am looking for :</p><ul><li>static web site generator ;</li><li>allows me to write in markdown ;</li><li>light and current : it uses the Go programming language ;</li><li>can be hosted on Github ;</li><li>bonus point : can be automated with Github Actions!</li></ul><p>Let&rsquo;s give it a go, dare I say!</p><h2 id=converting-wordpress-to-markdown>Converting Wordpress to markdown</h2><p>I did this step, pretty early : when I planned to use Jekyll. Converting any Wordpress website to Markdown IS painful. It can be automated in some way (hello, regex!) but there is a lot of proofreading and manual fixing.</p><h3 id=exporting-wordpress-data>Exporting Wordpress Data</h3><p>The first step consists in exporting your data from official <code>Wordpress Export Tool</code> to XML format. The tool can be found in <code>Tools</code> then <code>Export</code> then select <code>All Content</code>.</p><h3 id=converting-to-wordpress>Converting to Wordpress</h3><p>For this part, I ran the following command :</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>pelican-import -m markdown --wpfile -o posts ./masoopy.WordPress.2021-01-31.xml
</code></pre></div><p>Before, that, I had to install a ton of programs in order to have <code>pelican</code>, and all the required components. It was ugly and painful.</p><h3 id=manual-fixing>Manual fixing</h3><p>Now that, I had all my posts exported in Markdown, there was some manual fixing left such as removing several lines of unwanted data inside the <a href=https://gohugo.io/content-management/front-matter/ target=_blank rel="noopener noreffer">front matter</a>.</p><p>You can find a <a href=https://raw.githubusercontent.com/Nesousx/masoopy-web/main/clean_post.sh target=_blank rel="noopener noreffer">dirty script here</a>, and the command I used to run it :</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>find content/ -type f -name &#34;*.md&#34; -exec clean_post.sh {} \;
</code></pre></div><p>Then, there was some more regex, in order to change images paths, proofreading to make sure everything was correct, some more manual editing here and then. Proofreading again, manual fixing again&mldr; removing a few old low quality content, etc.</p><p>After a bunch of hours everything looked good, and I decided to go live!</p><h2 id=host-and-forget>Host and forget!</h2><p>Like I said, I planned to host this on Github, hence removing the need to pay for hosting. I have recently decided to stop paying for dedicated and host everything at home! However, I didn&rsquo;t want to open 80 and 443 to everyone, I didn&rsquo;t want to pay for hosting either. Github was the perfect solution : free hosting, and good hosting with free CDNs. Add to this CloudFlare and you have first class hosting for literally 0€ a month!</p><p>What is even cooler, is that you can have Hugo working with <a href=https://github.com/peaceiris/actions-hugo target=_blank rel="noopener noreffer">Github Actions</a>!</p><h3 id=create-github-actions-script>Create GitHub Actions script</h3><p>In order to do so, I created the following file inside my <code>Hugo folder</code> :</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>name: github pages

on:
  push:
    branches:
      - main  # Set a branch name to trigger deployment

jobs:
  deploy:
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v2
        with:
          submodules: true  # Fetch Hugo themes (true OR recursive)
          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: &#39;0.79.1&#39;

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.HUGO_TOKEN }}
          publish_dir: ./public
          cname: www.masoopy.com
</code></pre></div><p><strong>Do not write the token itself</strong>, write <code>HUGO_TOKEN</code>!</p><p>Which is located at : <code>.github/workflows/gh-pages.yml</code> and needs to be added and committed to your repo.</p><h3 id=create-github-token>Create Github Token</h3><p>You also need to <a href=https://github.com/settings/tokens target=_blank rel="noopener noreffer">create a token in your Github account</a> and call it whatever you want, mine is called <code>hugo_masoopy</code>.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/hugo_account_token.png data-srcset="/images/2021/02/hugo_account_token.png, /images/2021/02/hugo_account_token.png 1.5x, /images/2021/02/hugo_account_token.png 2x" data-sizes=auto alt=/images/2021/02/hugo_account_token.png title="Create GitHub Token"></p><h3 id=add-token-to-your-websites-repo>Add token to your website&rsquo;s repo</h3><p>Then, you have to go to your website&rsquo;s repo <code>Settings</code> and <code>Secrets</code> section, the URL looks like below :</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>https://github.com/your-username/your-repo/settings/secrets/actions
</code></pre></div><p>And here, you&rsquo;ll have the token you created in the previous step. Now the name you chose matters and must match the one from the script you created in the first step. Mine is <code>HUGO_TOKEN</code>.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/hugo_repo_secret.png data-srcset="/images/2021/02/hugo_repo_secret.png, /images/2021/02/hugo_repo_secret.png 1.5x, /images/2021/02/hugo_repo_secret.png 2x" data-sizes=auto alt=/images/2021/02/hugo_repo_secret.png title="Allow Repo Secret"></p><h3 id=its-always-dns>It&rsquo;s always DNS!</h3><p>Set your <code>CNAME</code> inside that file, create a <code>CNAME</code> for <code>your-username.github.io</code> on your DNS admin interface for your own domain.</p><h2 id=now-what>Now what?</h2><p>Now, we write! We can <a href=https://www.masoopy.com/blogging-with-vscode target=_blank rel="noopener noreffer">write our posts inside VSCode</a>, and commit our changes to our repo. Once we push the changes, Github Actions will do it&rsquo;s magic, and will publish the new content :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/hugo_github_actions.png data-srcset="/images/2021/02/hugo_github_actions.png, /images/2021/02/hugo_github_actions.png 1.5x, /images/2021/02/hugo_github_actions.png 2x" data-sizes=auto alt=/images/2021/02/hugo_github_actions.png title="Github in Actions"></p><p>Last but not least, we now have a pretty fast and clean website that Google, and hopefully you&rsquo;ll like too! It is static, has no ads, no analytics. Just content!</p><p>Unfortunately, I do not have the &ldquo;before&rdquo; screenshots, but I love the &ldquo;after&rdquo; ones :</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/hugo_pagespeed_mobile.png data-srcset="/images/2021/02/hugo_pagespeed_mobile.png, /images/2021/02/hugo_pagespeed_mobile.png 1.5x, /images/2021/02/hugo_pagespeed_mobile.png 2x" data-sizes=auto alt=/images/2021/02/hugo_pagespeed_mobile.png title="PageSpeed Mobile">
<img class=lazyload src=/svg/loading.min.svg data-src=/images/2021/02/hugo_pagespeed_computer.png data-srcset="/images/2021/02/hugo_pagespeed_computer.png, /images/2021/02/hugo_pagespeed_computer.png 1.5x, /images/2021/02/hugo_pagespeed_computer.png 2x" data-sizes=auto alt=/images/2021/02/hugo_pagespeed_computer.png title="PageSpeed Computer"></p><p>It was part automated and part manual work, but it was fun. I am very happy with the final result and proud to host this simple website! I hope you&rsquo;ll like it as much as I do. Do not hesitate to contact me on Twitter if you have anything to ask regarding this new website.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-02-15</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/hugo/>hugo</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/htb-netmon-without-metasploit/ class=prev rel=prev title="HTB - NetMon without MetaSploit"><i class="fas fa-angle-left fa-fw"></i>HTB - NetMon without MetaSploit</a>
<a href=/htb-devel-without-metasploit/ class=next rel=next title="HTB - Devel without MetaSploit">HTB - Devel without MetaSploit<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.79.1">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Denis</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>